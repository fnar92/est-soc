<script> </script>
<div class="container-fluid" ng-controller="EstudiosVerController as estudios">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header" data-background-color="orange">
                    <h1 class="title">
                        <strong ng-show="tipoUsuario==='1'">Estudios socioeconomicos (HRWise)</strong>
                        <strong ng-show="tipoUsuario==='2'">Estudios socioeconomicos ({{dash.institucion.nombre_institucion}})</strong>
                    </h1>
                </div>
            </div>
             <button onclick="location.href='#/estudios/crear'" ng-show="tipoUsuario==='2'" type="button" class="btn btn-success">Nuevo estudio</button>
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="card card-stats">
                    <div class="card-content">
                        <div class="">
                        <form>
                        <label class="control-label">Buscar familia:</label>
                        <input type="text" class="form-control" ng-model="estudios.filtroFamilia" ng-change="estudios.filtroFamilia=estudios.filtroFamilia.toUpperCase();">
                        <button type="submit" class="btn btn-success" ng-disabled="estudios.load" ng-click="estudios.buscarEstudios()">Buscar...</button>
                        <img style="width: 15px" ng-if="estudios.load" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                        </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-lg-12 col-md-12 col-sm-12">
                <div class="card card-stats">
                    <div class="card-content">
                        <div class="card-content table-responsive">
                                    <table class="table table-hover" cellspacing="0" width="100%">
                                        <thead >
                                            <tr>
                                                <th class="text-center">FOLIO</th>
                                                <th class="text-center">Instituci贸n Familia</th>
                                                <th class="text-center">Instituci贸n solicito</th>
                                                <th class="text-center">Direcci贸n</th>
                                                <th class="text-center">Fecha de registro</th>
                                                <th class="text-center">Estatus</th>
                                                <th class="text-center">Opciones</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="estudio in estudios.listaEstudios | startFrom:estudios.currentPage * estudios.pageSize | limitTo:estudios.pageSize">
                                                <td class="text-center">{{estudio.folio_estudio}}</td>
                                                <td class="text-center">{{estudio.institucion_familia}}</td>
                                                <td class="text-center">{{estudio.institucion_solicito}} </td>
                                                <td class="text-center">
                                                    {{estudio.calle}}, 
                                                    {{estudio.num_ext}}, 
                                                    {{estudio.num_int}},
                                                    {{estudio.num_int}},
                                                    {{estudio.colonia}},
                                                    {{estudio.localidad}},
                                                    {{estudio.municipio}},
                                                    {{estudio.estado}}
                                                </td>
                                                <td class="text-center">{{estudio.fecha_estudio }}</td>
                                                <td class="text-center">
                                                    <div ng-switch="estudio.id_estatus_estudio">
                                                        <div ng-switch-when="1"><span class="label label-info">Recibido</span></div>
                                                        <div ng-switch-when="2"><span class="label label-warning">Asignado</span></div>
                                                        <div ng-switch-when="3"><span class="label label-default">Capturado</span></div>
                                                        <div ng-switch-when="4"><span class="label label-primary">En revis贸n</span></div>
                                                        <div ng-switch-when="5"><span class="label label-success">Terminado</span></div>
                                                        <div ng-switch-when="6"><span class="label label-danger">Cancelado</span></div>
                                                    </div>
                                                </td>
                                                <td class="text-center">
                                                    <button type="button" class="btn btn-primary btn-xs" ng-click="estudios.verDetalle(estudio)">Ver</button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="form-group p-t-20 text-right" ng-show="estudios.listaEstudios.length > 0">
                                    <div>
                                        <ul class="pager">
                                            <li>
                                                <button type="button" class="btn btn-default btn-flat-border pull-left" ng-disabled="estudios.currentPage == 0" ng-click="estudios.currentPage=estudios.currentPage-1">Anterior</button>
                                                <button type="button" class="btn btn-default btn-flat-border pull-right" ng-disabled="estudios.currentPage >= estudios.listaEstudios.length / estudios.pageSize - 1" ng-click="estudios.currentPage=estudios.currentPage+1">Siguiente</button>
                                            </li>
                                            <li>
                                                <div class="col-md-3 col-md-push-2 col-xs-3 col-xs-push-2 col-lg-push-3 text-center">
                                                    <div class="col-sm-6 text-center">
                                                        <span class="pager-number">{{estudios.currentPage + 1}}</span>
                                                        <span class="pager-number"> de </span>
                                                        <span class="pager-number">{{estudios.numberOfPages()}}</span>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</div>